## If not running interactively, don't do anything.
if [ -z "$PS1" ]; then
   return
fi

## If running in a login shell, don't do anything.
## Login shells are greeted by /etc/motd.
shopt -q login_shell
var="$?"
if [ "$var" = "0" ]; then
   return
fi

## We run in a terminal emulator.

## Let's greet it with motd.
if [ -d /usr/lib/qubes ]; then
   if [ -f /etc/motd.qubes-kicksecure ]; then
      echo "$(cat /etc/motd.qubes-kicksecure)"
   fi
else
   if [ -f /etc/motd ]; then
      echo "$(cat /etc/motd)"
   fi
fi
